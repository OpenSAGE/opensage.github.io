<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.1d2ed03f53ff3b4dac78.css" data-identity="gatsby-global-css">@import url(https://fonts.googleapis.com/css?family=Noto+Serif+TC|Source+Code+Pro);
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}*{box-sizing:border-box}body,html{display:flex;margin:0;min-height:100%;padding:0;width:100%}body{font-family:"Noto Serif TC",serif;font-size:16px;line-height:1.6}h1,h2{margin-top:1em}h2{margin-bottom:.5em}h1+h2,h2+ul{margin-top:0}#___gatsby,#___gatsby>div{display:flex;height:100%;width:100%}.page{max-width:100%}#main-content,.page{display:flex;flex-direction:column;flex-grow:1;width:100%}#main-content{flex-shrink:0;margin-bottom:40px;margin-left:auto;margin-right:auto;max-width:700px;padding-left:2em;padding-right:2em}.row{display:flex;flex-direction:row;flex-shrink:0}.row+.row{margin-top:16px}.width-50{flex-shrink:0;max-width:50%}.responsive-image{display:flex;flex-shrink:1;max-width:100%}.responsive-image+.responsive-image,.responsive-image-container+.responsive-image-container{margin-left:16px}@media screen and (max-width:450px){.row{flex-direction:column}.responsive-image,.responsive-image+.responsive-image,.responsive-image-container+.responsive-image-container{margin-left:0;margin-top:16px}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}footer{background:#000;color:#fff;font-size:12px}.footer__content{margin-left:auto;margin-right:auto;max-width:900px;padding:8px}.header__logo{background:url(/opensage-logo.png);background-position:50%;background-repeat:no-repeat;background-size:contain;height:100px;min-height:80px}.navbar{border-bottom:2px solid #000}.navbar__items{display:flex;flex-direction:row;justify-content:center;list-style:none;margin:0 auto 16px}.nav-item{display:inline-flex}.nav-item:not(last-child){margin-right:40px}.nav-item a{color:#000;text-decoration:none}.nav-item a:hover{text-decoration:underline}@media screen and (max-width:350px){.navbar__items{flex-direction:column}.nav-item{margin-left:0;margin-right:0}.nav-item:not(last-child){margin-bottom:8px}}.post-content img{max-width:100%}.post-content .gatsby-resp-image-wrapper,.post-content .video-responsive{margin-bottom:2em;margin-top:2em}.post-content h2>a,.post-content h3>a{color:initial;text-decoration:none}.post-content li>p{margin-bottom:8px;margin-top:2px}.post-content blockquote{border-left:4px solid #d3d3d3;margin-left:0;padding-left:1em}.post-content pre{background:#eee;color:#333;overflow-x:auto;padding:1em}.post-content pre code{font-size:.8rem;line-height:1.2}.post-content code,.post-content pre code{font-family:Source Code Pro,Menlo,Consolas,monospace}.post-content code{background:#eee;color:#333;padding:2px 4px}.post-metadata span{display:block}.post-metadata__author{font-weight:700}.post-content .video-responsive{height:0;overflow:hidden;padding-bottom:56.25%;position:relative}.post-content .video-responsive>iframe{height:100%;left:0;position:absolute;top:0;width:100%}.post-content .table-wrapper{border:1px solid #bdc1c4;max-width:100%;overflow-x:auto}.post-content table{border-collapse:collapse}.post-content table th{background-color:#f0f0f0;padding-left:1em;padding-right:1em;width:auto}.post-content table td,.post-content table th{border-bottom:1px solid #bdc1c4;border-right:1px solid #ccc;padding:.5rem;white-space:nowrap}</style><meta name="generator" content="Gatsby 3.14.3"/><title data-react-helmet="true">Roads? How boring! Part 8: Rendering crossings (continued) - OpenSAGE</title><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" name="twitter:title" content="Roads? How boring! Part 8: Rendering crossings (continued) - OpenSAGE blog"/><meta data-react-helmet="true" name="twitter:description" content="Part 8 of the series about rendering the roads in SAGE maps: Rendering crossings (continued)"/><meta data-react-helmet="true" name="twitter:image" content="https://opensage.github.io/main-menu-social.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="og:title" content="Roads? How boring! Part 8: Rendering crossings (continued) - OpenSAGE blog"/><meta data-react-helmet="true" property="og:description" content="Part 8 of the series about rendering the roads in SAGE maps: Rendering crossings (continued)"/><meta data-react-helmet="true" property="og:url" content="https://opensage.github.io/blog/roads-how-boring-part-8-rendering-crossings-continued/"/><meta data-react-helmet="true" property="og:image" content="https://opensage.github.io/main-menu-social.jpg"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="article:published_time" content="2020-04-19T00:00:00.000Z"/><link as="script" rel="preload" href="/webpack-runtime-da80e4af2c7a62b87dee.js"/><link as="script" rel="preload" href="/framework-3ff8eac72944ada5b1d3.js"/><link as="script" rel="preload" href="/app-4c0eca78ab875c07fb76.js"/><link as="script" rel="preload" href="/146795efe668deebd307e23d1bee48404d46676b-61b9cf2c73f895e6907b.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-4e75ef5397eab02032db.js"/><link as="fetch" rel="preload" href="/page-data/blog/roads-how-boring-part-8-rendering-crossings-continued/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="page"><header><a href="/"><div class="header__logo"></div></a><nav class="navbar"><ol class="navbar__items"><li class="nav-item"><a href="/">About</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="https://github.com/OpenSAGE/OpenSAGE">GitHub</a></li><li class="nav-item"><a href="https://discord.gg/G2FhZUT">Discord</a></li></ol></nav></header><div id="main-content"><h1>Roads? How boring! Part 8: Rendering crossings (continued)</h1><div class="post-metadata"><span class="post-metadata__author">Daniel Sklenitzka</span><span class="post-metadata__date">19 April 2020</span></div><div class="post-content"><p>Figuring out how to render the roads correctly in OpenSAGE turned out to be a little more challenging than expected. This is the eighth post in a series describing the journey. <a href="/blog/roads-how-boring-part-7-rendering-crossings">Last time</a>, we started rendering crossings and found the formulas for calculating the rectangles in world coordinates based on the parameters <code>RoadWidth</code> and <code>RoadWidthInTexture</code>.</p>
<h2>Texture coordinates</h2>
<p>Now we need to find the coordinates of these rectangles in the road texture, just as we did for the straight roads in <a href="/blog/roads-how-boring-part-4-rendering-straight-roads">part 4</a>.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1da157f61d15aed7f18fa04587e9a228/01e7c/crossing_texture.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFbklEQVQ4yz1UaWxUVRQ+RmRRolFeI0iiAsWIGqNGrQYiwaoElIAWhu6zvH3fZ957M/Omy9DaUiiUliYmwHS6TUEQsEQU3KIJRn9h9Id/NGqmiUYJBGOZofaYNxhzc3Jvvvud9Z57ID8+SuTyeeLYSI6YKEwSYxMFYmyyQBw5NkKMjY8SU1PjROH4JHHug7PE+fNniFPvnSQKUyeIsYlJIj+aJ06cLBDnpt8lClOFqrHxiSpQDLOoGFYx2DXLLmpWvKiaVlEzA8woSqpa5GW5yElyUdTUW3eWXeFLml4UNa0o63qAzeh2fAZIjkeS5ZHiBaQFsSKMICAjiBhjWAyTFEZoBpsjUWyOxpBkuVs8XqjoRCgGwxSNFHfLBoiaUeZkpcyIUplXtLKkGWVJN8qippd5RS0zglRmJbksKGqZl5WypOllxTArUuGpWoUb6MmGVQZWkv+PJhZ450VkRAkDPPAY4IH3SkQcjwwvICfJyP7HqYgY2JAqGCT9TDKRTKUsx4nHPc9xUn5FUn4m4XlJx/O8lBscXDfpOG7S81KJdFt7wvGSt1ba95KptOclU57nZxxwUj4opgk16zeArBtgxR1QUj4MNLXAu69tht5QCDpJEtoaGmCwNQwfPlcDWVWHDoqGvi1bwacY2FMXgv0NTeC4HkC6vaPZ8/0h3Y7/GGO4pxsNE1oGBpYC4qJYLrcl6nlnQn37JkPZ7JTS1XWi9pPP1gHi4vDevZlmw7qw/cDAqfqUf47atz/f8M3Xy4AVpWtB7kEdFcM4vYHmABBvo6anX4yb1g8swyIfTyCraqirGtqud3494koqmbzIUDTSplWpK22YuGN4uBpEVf9V0vV5UdNnA8OxaGxXf10d8ENDkmKa2MzyN5tMu9Si6rOtLI+q62L9V5deoPzMVIxmMJr2Z1lemNuVabvx8tEjayDGsDMRksYIRVVeUjOMLzYgLgLEhWHLDkezWYxSDFLB67d3/LnLMF4IMuAybdMUTSNj2TdYnp9rdb0bm4eH14CoakVFN65ajvNluqMzta+3bxUgBmnfVd/RCRzLhDTbLimG+TvbEn6qb1NtcHcv25n9NChTq+tV2oxKOPjWsdwa2Nvf/9DBocPLAQBSrgfq0RzUvj/9QM3JU9ufvHDxjbUff1obmpw0ai5/ux4QVyy9evUJQKxq2t+/bXemzX2zp0er9zN24+Fh6rnZ0iLQbRuO5EYAEaFj6PCdDdkskIcOmWFRwsa0Pxtx3H9YRSsl+/ZJI9u2wfLvv1u6AHEZIC64D3HJ7YiLH0ZcAoh3YBCVZtmvawkHvFQanLT/im9Zz8QO9HMkL2A04d4UXRcZlkPFMPHtrm62x/fhkWvXHpG6u39kLRub9/fPco47Zx48+NubH114AGhB/I6VlQcpjgdKEEN0NBaiBgdJUpJRUNQSr6jzoqrNBUNENUzM9OyVVv3006OCHS+Fw9HKVyVJGjnHxXB+pBoERbvO8OI7oqoBI8k7WZLaTg4comKSjLwkl2lBnA/aKRgOlCCgbBhXNl7+9qVYW/sfra1hrEs4c1GanY9k95Qap6ZWQ2uU/CtCUsiJ4jpWUbcyFF3PDB6K0bKCgiD+zQniTZJlS8HIIi37WitFPVt15Uo1Z8dvhFvCGKPZeTJKYiyemN89NloNqmmN6na837Dte7WEs8nkhefpoSGF0TSMJlMYMc0gUqQE8XoLy9f0PfYErP75l8fptvZfo/EE7hwcKpFpf57v7r6y6fjxlRBqCAHDC2AlEtCbyy98tbcHdo2MvLg7u6enrv9AakdXl9/c2dmxPZfbGDT7PTMzKwDx7p2nz94fGs2v3frVpdWNhUJ182efrwz691+vyB2aoO5Q1wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Node positions in the crossing textures"
        title="Node positions in the crossing textures"
        src="/static/1da157f61d15aed7f18fa04587e9a228/01e7c/crossing_texture.png"
        srcset="/static/1da157f61d15aed7f18fa04587e9a228/8a4e8/crossing_texture.png 150w,
/static/1da157f61d15aed7f18fa04587e9a228/5a46d/crossing_texture.png 300w,
/static/1da157f61d15aed7f18fa04587e9a228/01e7c/crossing_texture.png 512w"
        sizes="(max-width: 512px) 100vw, 512px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>Let's start by dividing the whole texture into a 3x3 grid. The center of the T crossing is located at the center of tile [2, 3], and the center of the X crossing is located at the center of tile [3, 3]. In texture space, they are located at [3/6, 5/6] and [5/6, 5/6] respectively. However, as we found out in <a href="/blog/roads-how-boring-part-4-rendering-straight-roads">part 4</a>, the engine approximates 1/6 as <code>1.666</code>, truncating all decimal places after the third. This also happens for the center of tile two, which is not <code>0.5</code>, but <code>0.498 (3 * 1.666)</code>.</p>
<p>We also already know that the default road width of <code>0.25</code> is scaled with the factor <code>RoadWidthInTexture</code>. Now we only need the lengths of the small extruding stubs. By measuring some textures of different sizes, we can find out that it is <code>0.004</code> regardless of <code>RoadWidthInTexture</code>.</p>
<p>Using the variables</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Abbreviation</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Half tile width</td>
<td><code>htw</code></td>
<td><code>0.166</code></td>
</tr>
<tr>
<td>Half road width</td>
<td><code>hrw</code></td>
<td><code>0.25 * RoadWidthInTexture / 2</code></td>
</tr>
<tr>
<td>Length to incoming road</td>
<td><code>lti</code></td>
<td><code>0.25 / 2 + 0.004</code></td>
</tr>
</tbody>
</table>
<p>this gives us the following texture coordinates for the T- and X-crossing:</p>
<table>
<thead>
<tr>
<th>Crossing type</th>
<th>Left</th>
<th>Top</th>
<th>Right</th>
<th>Bottom</th>
</tr>
</thead>
<tbody>
<tr>
<td>T</td>
<td><code>5 * htw - hrw</code></td>
<td><code>3 * htw - lti</code></td>
<td><code>5 * htw + lti</code></td>
<td><code>3 * htw + lti</code></td>
</tr>
<tr>
<td>X</td>
<td><code>5 * htw - lti</code></td>
<td><code>5 * htw - lti</code></td>
<td><code>5 * htw + lti</code></td>
<td><code>5 * htw - lti</code></td>
</tr>
</tbody>
</table>
<p>Unfortunately the two Y crossings are a little less straight forward and require some hardcoded numbers (this time, width and height are given instead of right and bottom coordinates):</p>
<table>
<thead>
<tr>
<th>Crossing type</th>
<th>Left</th>
<th>Top</th>
<th>Width</th>
<th>Height</th>
</tr>
</thead>
<tbody>
<tr>
<td>Symmetric Y</td>
<td><code>3 * htw - 0.2</code></td>
<td><code>0.504 - 0.135</code></td>
<td><code>0.4</code></td>
<td><code>0.270</code></td>
</tr>
<tr>
<td>Asymmetric Y</td>
<td><code>0.395 - hrw</code></td>
<td><code>0.645</code></td>
<td><code>1.2 * 0.25 + hrw</code></td>
<td><code>0.335</code></td>
</tr>
</tbody>
</table>
<p>Using these coordinates, we can now render the crossings, but it doesn't look quite right yet:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5f6440e9de7068e02250fc08ac93fc9f/eb3fa/crossing_overlap.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 77.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADLElEQVQozxWSbW/bNgCE9R+GofUar3Ns69WWpaS2ZYkiJVGUSFEUKdty0qYomg5YMWC/qN2GvcRIljQJ0PQHDv52X+5wuOe0/f7TzfXv+/3n/f7z1dWn29s/7u7+fHj45+nr9benm29PN09frx8f9/f3V/f3V4+P+4eH/Zcv//53+9ft3d/azHt+cvpisTxaLvvzRX8VvgzDPgAvg+BouTwKw34MflwuX/j+c8/reV5v5vU8/wf/pOef9LQ0MyEyQDxGyIiiIYjHWWYmqRkCfbE4DlYjEI8gHMdQX0XDIBylmUlyk1G7Ea5WUpsQoyytitkVc6RweeUk2ThJ9TgeRtExQuMEHRJRooN4mOc6oxajVlM7Ws3tpna2rd82rhSTtfJlPRHclmLaiAljVsUsKRzOddnYde0wZlJqFYWFsaFJMZXCrblTlEbF7ZrbFTPK0ua1p5TbSrdVHmUhY4GSi0072ypvs/Za5da1rRWlTUoHJUYExiAexdCcB24AAkxAq15tWkeIEOc5KUrOcSumaznbrmc1dxh3DoMBqAerQbA6DqNhmtkROF2GIUAgySCtFikGmKQ5yZSK33SvtsrfbfymmWLiaAiNYWxEQAexAaFOiM2Yh0kcxCCEIEIwhHGEIClxtw13m5lqpnVlS+HU4mAexbG+Cg9UQjCOwBDEgzQ3CU0hgjhHKU5QhhjHF6/D7drllUXIsJWeaqZaTmyUGifzo2A1jKEOEyOCIwAHnPuMZUkKKMM5SRlLN+1sLSdSehX3RHNgcagdw+M0M7LMJMUkxVZRmrQwONO7LsoJTjEqKcEEtwoKbnFqyXp6ENzUMuySYiKV1zSztvWlcDfS3ShPyel5N29VkaRJTjAheVEQpQBnhuAOo3qGj7WCTBo5axqrrnTB7aY5/KFtJ0JYG+Vt23lRYJQmjJU5ySktGj4XlSm4U1FTU2eye7fr3u52Xakai9Exy0drMavZkpHTjVieKYoRznFWsZIy+vrd5fkF351T2SLt+/7g2WD83dHgJ8c7+/C2uyiKD/Py1wJeluCSgPc5+43j93nVNhc/f+wuf8m7y0yewWq9QOn/BukEQolCz2AAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Crossing and road segments overlap"
        title="Crossing and road segments overlap"
        src="/static/5f6440e9de7068e02250fc08ac93fc9f/0a47e/crossing_overlap.png"
        srcset="/static/5f6440e9de7068e02250fc08ac93fc9f/8a4e8/crossing_overlap.png 150w,
/static/5f6440e9de7068e02250fc08ac93fc9f/5a46d/crossing_overlap.png 300w,
/static/5f6440e9de7068e02250fc08ac93fc9f/0a47e/crossing_overlap.png 600w,
/static/5f6440e9de7068e02250fc08ac93fc9f/1cfc2/crossing_overlap.png 900w,
/static/5f6440e9de7068e02250fc08ac93fc9f/eb3fa/crossing_overlap.png 1026w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>The crossing texture and the straight road segment textures overlap because the segments all start directly at the node position.</p>
<h2>Connection points</h2>
<p>We need to move the end points of the incoming road segments outwards to the positions labeled A-M in the image above.</p>
<p>The following table lists the vectors that need to be added to the node positions to get to these connection points (<code>Up</code>, <code>Down</code>, <code>Left</code>, <code>Right</code>, <code>DownLeft</code> and <code>DownRight</code> being unit vectors pointing in the respective directions and <code>Width</code> and <code>Height</code> referring to the rectangles we calculated in the <a href="/blog/roads-how-boring-part-7-rendering-crossings">last post</a>).</p>
<table>
<thead>
<tr>
<th>Crossing type</th>
<th>Position</th>
<th>Vector from</th>
</tr>
</thead>
<tbody>
<tr>
<td>Symmetric Y</td>
<td>A</td>
<td><code>Up * (0.269 * Height)</code></td>
</tr>
<tr>
<td>Symmetric Y</td>
<td>B</td>
<td><code>DownRight * (0.547 * RoadWidth)</code></td>
</tr>
<tr>
<td>Symmetric Y</td>
<td>C</td>
<td><code>DownLeft * (0.547 * RoadWidth)</code></td>
</tr>
<tr>
<td>T</td>
<td>D</td>
<td><code>Up * (Height / 2)</code></td>
</tr>
<tr>
<td>T</td>
<td>E</td>
<td><code>Right * (Width - HalfRoadWidth)</code></td>
</tr>
<tr>
<td>T</td>
<td>F</td>
<td><code>Down * (Height / 2)</code></td>
</tr>
<tr>
<td>Asymmetric Y</td>
<td>G</td>
<td><code>Up * 0.2 * Height</code></td>
</tr>
<tr>
<td>Asymmetric Y</td>
<td>H</td>
<td><code>Down * 0.8 * Height</code></td>
</tr>
<tr>
<td>Asymmetric Y</td>
<td>I</td>
<td><code>DownRight * (1.047f * RoadWidth)</code></td>
</tr>
<tr>
<td>X</td>
<td>J</td>
<td><code>Left * (Width / 2)</code></td>
</tr>
<tr>
<td>X</td>
<td>K</td>
<td><code>Up * (Height / 2)</code></td>
</tr>
<tr>
<td>X</td>
<td>L</td>
<td><code>Right * (Width / 2)</code></td>
</tr>
<tr>
<td>X</td>
<td>M</td>
<td><code>Down * (Height / 2)</code></td>
</tr>
</tbody>
</table>
<p>And now, finally, the crossings are done:
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/146dc252e309f1e32f593bcb05316ade/eb3fa/crossing_no_overlap.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 77.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADJklEQVQozx2M2W7bRgBF+Q8tkCYxYJkiRYqkNkviOpx9OMNFXERJsQPHS9ECfegXtUgeCthx2hSR03xg4QAHF+flHu3jw58Pz/zx+Pj+0+P7z39/+OfTh8///vX09eF4vH96+r7Hh+Px4cuX++Px/r+vH799e3x6enaNEZ1TXWaG4ENC9RQOQDpY+68Xy5fr1Ss/eD1fvPImL2bzn5brl1F0AtNTis8Y0Qk+1Zp6UpQTRGwAzDAahpFOmc24zZhNiB1EwyAYBoEOUoNQSzCrzCd1NdmUXlV4WtdO8tzJuJUrRymH8TGlNkQmwgbCozA8+44ehjrGFqcjwcxcjnPpqMzWMummyCDEFMJm3GLcRtjyg8HKHwThEEITIROkBkQmYabKHalsKW0px1yMNUxHSWpGsRHFQ4hM+vwfCWEhMk6AmSRGFOtBaK5DLwFjwsYADhEyGbelcrV640nlYWJHsRFGRpzoMXDW4fnSXy39WRgZUaSv/PkqCIMoDuPZ2j8NomGKRgibmpSOyJwUmkF4tlydRvEQEyeFoR9Fq8CPwRqTdZQkKQIQwyybE2yBxMTYptTWokRPUpMyF+ExAHYKDSW9tllygUAK4jQJ4yiMn1sJDETm5MUkk45SnsxtDaKRVE5euJRbXLiU25iaCA8Q8QAEmCKAACQogSAvQNPOi3KilMWFWW8WWlHO+u2kLCwlrbaete0sL9wUDWOoExFDAplkLKNc0O02OezmXTetSrcs3G0317p2WuV23037br7fLrrNtCycMh8LYXTb80ziFCVcUkxxWYK6sjel07eLupptm6n29uAfdv7lxWrfzw/7Zd+d9810186bjdt17rYDhEIuCBeIcdI2Sa6sqnCbytuUjrbbTt7sFn3nbSq7Kp269lRutI1Tlmbfzfp2pnKESJopRhnJMr4pF4UyqtyiZKBd3PSHm93+and5kTcbV0pTUL0uvVydK7Fsq9WuYQgAhGKVC5Wry+vrt++qy6tyu6PajyeDF2ejH070U3fe31zVB0FvV9lvWXqXJbc8vRPq9xJdI9mUlz//srv9le3vaP0mLboA4/8BDsn+DA3lVDMAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Crossing and road segments don&#39;t overlap anymore"
        title="Crossing and road segments don&#39;t overlap anymore"
        src="/static/146dc252e309f1e32f593bcb05316ade/0a47e/crossing_no_overlap.png"
        srcset="/static/146dc252e309f1e32f593bcb05316ade/8a4e8/crossing_no_overlap.png 150w,
/static/146dc252e309f1e32f593bcb05316ade/5a46d/crossing_no_overlap.png 300w,
/static/146dc252e309f1e32f593bcb05316ade/0a47e/crossing_no_overlap.png 600w,
/static/146dc252e309f1e32f593bcb05316ade/1cfc2/crossing_no_overlap.png 900w,
/static/146dc252e309f1e32f593bcb05316ade/eb3fa/crossing_no_overlap.png 1026w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>In the <a href="/blog/roads-how-boring-part-9-rendering-curves">next post</a> we'll tackle the curves.</p></div></div><footer><div class="footer__content"><p>OpenSAGE is not associated with Electronic Arts or any other company. All trademarks are property of their respective owners. Screenshots of copyrighted works are only used for demonstration purposes.</p><p>Â© OpenSAGE <!-- -->2021</p></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/roads-how-boring-part-8-rendering-crossings-continued";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-4d452037006af707f98e.js"],"app":["/app-4c0eca78ab875c07fb76.js"],"component---src-pages-404-js":["/component---src-pages-404-js-d44c0a818ce890b8c614.js"],"component---src-pages-blog-js":[],"component---src-pages-index-js":["/component---src-pages-index-js-b712fcc8262034a481fa.js"],"component---src-templates-post-js":["/component---src-templates-post-js-4e75ef5397eab02032db.js"]};/*]]>*/</script><script src="/polyfill-4d452037006af707f98e.js" nomodule=""></script><script src="/component---src-templates-post-js-4e75ef5397eab02032db.js" async=""></script><script src="/146795efe668deebd307e23d1bee48404d46676b-61b9cf2c73f895e6907b.js" async=""></script><script src="/app-4c0eca78ab875c07fb76.js" async=""></script><script src="/framework-3ff8eac72944ada5b1d3.js" async=""></script><script src="/webpack-runtime-da80e4af2c7a62b87dee.js" async=""></script></body></html>